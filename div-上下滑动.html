<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <title>div上下滑动</title>
    <style>
        #div1{width:100px;height:100px;position: absolute;right:0;background: #3febff;}
    </style>
    <script>
        window.onscroll=function(){
            var oDiv=document.getElementById('div1');
            var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
           var t=scrollTop+(document.documentElement.clientHeight-oDiv.offsetHeight)/2;
           startMove(parseInt(t));
        };
        var timer=null;
        function startMove(end){
            var oDiv=document.getElementById('div1');
            clearInterval(timer);
            timer=setInterval(function(){
                var  ispeed=(end-oDiv.offsetTop)/20;
                ispeed=ispeed>0?Math.ceil(ispeed):Math.floor(ispeed);
                if(oDiv.offsetTop==end){//是否到达终点
                    clearInterval(timer);
                }
                else{
                    oDiv.style.top=oDiv.offsetTop+ispeed+'px';
                }
            //    document.title=oDiv.offsetTop+','+ispeed;
            },30);
        }
    </script>
</head>
<body style="height:3000px;">
    <div id="div1"></div>
</body>
</html>